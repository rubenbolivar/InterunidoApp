<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>InterUnido Exchange</title>
   <link rel="stylesheet" href="css/styles.css">
</head>
<body>
   <button id="themeToggle" class="theme-toggle">
       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
           <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
       </svg>
   </button>

   <!-- Selector de Operaciones -->
   <div id="operationSelector" class="container">
       <div class="operation-cards">
           <div class="card operation-card" data-operation="venta">
               <div class="operation-icon">💱</div>
               <h3>Venta de Divisas</h3>
               <p>Gestionar operaciones de venta de divisas</p>
           </div>
           <div class="card operation-card" data-operation="canje">
               <div class="operation-icon">🔄</div>
               <h3>Canje de Divisas</h3>
               <p>Realizar operaciones de canje entre divisas</p>
           </div>
       </div>
   </div>

   <!-- Contenedor de Venta de Divisas -->
   <div id="exchangeContainer" style="display: none;">
       <div class="container">
           <div class="stages-container">
               <div id="stage1" class="section stage">
                   <div class="card">
                       <h2>Datos de la Operación</h2>
                       <form id="operationForm">
                           <div class="form-group">
                               <label for="clientName">Nombre del Cliente:</label>
                               <input type="text" id="clientName" required>
                           </div>
                           <div class="form-group">
                               <label for="amountToSell">Monto que desea vender:</label>
                               <input type="number" id="amountToSell" step="any" required>
                           </div>
                           <div class="form-group">
                               <label for="currencyType">Tipo de Divisa:</label>
                               <select id="currencyType" required>
                                   <option value="">Seleccione una opción</option>
                                   <option value="EUR_CASH">Euros en efectivo</option>
                                   <option value="EUR_TRANSFER">Euro transferencia</option>
                                   <option value="USD_CASH">Dólares en efectivo</option>
                                   <option value="USD_ZELLE">Dólares Zelle</option>
                                   <option value="USD_INTL">Dólares en Bancos internacionales</option>
                                   <option value="USDT">Binance USDT</option>
                               </select>
                           </div>
                           <div class="form-group">
                               <label for="clientRate">Tasa Cliente:</label>
                               <input type="number" id="clientRate" step="any" required>
                           </div>
                           <div class="form-group">
                               <label for="amountClientReceives">Monto que debe recibir el cliente:</label>
                               <input type="text" id="amountClientReceives" readonly>
                           </div>
                           <button type="submit" id="proceedToStage2" class="btn">Continuar</button>
                       </form>
                   </div>
               </div>

               <div id="stage2" class="section stage" style="display: none;">
                   <div class="card">
                       <h2>Agregar Transacciones de Venta</h2>
                       <div id="transactions"></div>
                       <button type="button" id="addTransaction" class="btn">Agregar Transacción</button>
                   </div>
               </div>

               <div id="stage3" class="section stage" style="display: none;">
                   <div class="card">
                       <h2>Resultado de la Operación</h2>
                       <div id="results"></div>
                   </div>
               </div>
           </div>
       </div>
   </div>

   <!-- Contenedor de Canje -->
   <div id="swapContainer" style="display: none;" class="container">
       <div class="stages-container">
           <div id="swapStage1" class="section stage">
               <div class="card">
                   <h2>Canje de Divisas</h2>
                   <form id="swapForm">
                       <div class="form-group">
                           <label for="swapType">Tipo de Canje</label>
                           <select id="swapType" required>
                               <option value="">Seleccione tipo de canje</option>
                               <option value="interno">Canje Interno</option>
                               <option value="externo">Canje Externo</option>
                           </select>
                       </div>
                       
                       <div class="form-group">
                           <label for="swapAmount">Monto a Canjear</label>
                           <input type="number" id="swapAmount" step="0.01" min="0" required>
                       </div>

                       <div class="form-group">
                           <label>Comisiones</label>
                           <div class="commission-group">
                            <div>
                                <label for="costCommission">Comisión Costo (%)</label>
                                <input type="number" id="costCommission" min="0" max="100" step="0.0001" placeholder="0.00">
                            </div>
                            <div>
                                <label for="saleCommission">Comisión Venta (%)</label>
                                <input type="number" id="saleCommission" min="0" max="100" step="0.0001" placeholder="1.20">
                            </div>
                        </div>
                           </div>
                       </div>

                       <div class="form-group">
                           <label for="difference">Diferencia</label>
                           <input type="number" id="difference" readonly>
                       </div>

                       <div id="externalFields" style="display: none;">
                           <div class="form-group">
                               <label>Distribución de Ganancias</label>
                               <div class="distribution-grid">
                                   <div>
                                       <label for="payroll">Nómina</label>
                                       <input type="number" id="payroll" readonly>
                                   </div>
                                   <div>
                                       <label for="profit">Ganancia</label>
                                       <input type="number" id="profit" readonly>
                                   </div>
                                   <div>
                                       <label for="office1">Oficina 1</label>
                                       <input type="number" id="office1" readonly>
                                   </div>
                                   <div>
                                       <label for="office2">Oficina 2</label>
                                       <input type="number" id="office2" readonly>
                                   </div>
                                   <div>
                                       <label for="executive">Ejecutivo</label>
                                       <input type="number" id="executive" readonly>
                                   </div>
                               </div>
                           </div>
                       </div>

                       <div class="button-group">
                           <button type="button" id="backToSelector" class="btn btn-secondary">Volver</button>
                           <button type="submit" class="btn">Procesar Canje</button>
                       </div>
                   </form>
               </div>
           </div>
       </div>
   </div>

   <script src="js/script.js"></script>
</body>
</html>